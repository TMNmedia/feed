<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAITH - SIGNAL ALERT SET UP</title>
    
    
    
    <style>
        * {
/* Change your font family */
font-family: sans-serif;
}


.content-table {
border-collapse: collapse;
margin: 25px 0;
align-content: center;

border-radius: 5px 5px 0 0;
overflow: hidden;
box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
}

.content-table thead tr {
background-color: #009879;
color: #ffffff;
text-align: center;
font-weight: bold;
}

.content-table th,
.content-table td {
padding: 8px 8px;

}

.content-table tbody tr {
border-bottom: 1px solid #dddddd;
}

.content-table tbody tr:nth-of-type(even) {
background-color: #f3f3f3;
}

.content-table tbody tr:last-of-type {
border-bottom: 2px solid #009879;
}

.content-table tbody tr.active-row {
font-weight: bold;
color: #009879;
}
</style>
</head>
<body style="text-align: center; width:100%;align-content: center;">
    <h1>TMNMEDIA SIGNAL ALERT</h1>
    <div style="text-align: center; width:100%;">

    
        <h3 style="text-align: center;" id='datupdte'>====================</h3><h1 id='tick-time'>---</h1><h3>====================</h3>
        <h3 id='datupdte2'>--</h3>
        <h3 name="ticker"></h3></h3>

        

    </div>    
        <div id="bear" style=" text-align: center; align-content: center; padding: 15px;">
            <table border= '2' class="content-table" style="
            display: inline-block;
            text-decoration: none;
            text-size-adjust: auto;
            font-size: medium;
            background-color: rgb(255, 253, 253);
            color: rgb(6, 6, 6);
            margin: 5px auto;
            padding: 1px;
            box-sizing: content-box;
            text-align: center;align-content: center;">
            
            <tr>
              <h2 style="text-align: center;">BEAR-SIGNAL SET UP BELOW</h2>
          
                <th> LAST-TICK VALUE </th>
                <th> PREVIOUS BAR SIZE </th>
                <th> CURRENT BAR SIZE </th>
                <th> SIGNAL SET-UP  </th>
                <th> ENTRY SET-UP.   </th>
                <th> EXIT-TICK-VALUE </th>
                <th> ENTRY-TICK-VALUE </th>
                <th> ENTRY-STATUS </th>
                <th> TRADE-WON </th>
                <th> TRADE-LOST  </th>
                <th> WIN-RATE % </th>
                <th> TOTAL-TRADES % </th>
            </tr>
            <tr style="font-weight: bold; text-size-adjust: auto;">
                <td id="lastick25" name="ticker">---</td>
                <td id="prebar25">---</td>
                <td id="curbar25">---</td>
                <td id="signal25">---</td>
                <td id="entry25">---</td>
                <td id="exitick25">---</td>
                <td id="entrytick25">---</td>
                <td id="entrystatus25">---</td>
                <td id="tradewon">---</td>
                <td id="tradelost">---</td>
                <td id="winratio">---</td>
                <td id="noftrades">---</td>
                
            </tr>
            
      
        </table>
        </div>
        
    
    
        
        <div id="v25" style="width:100%; text-align: center; align-content: center; padding: 10px;">
            <table border= '2' class="content-table" style="
            display: inline-block;
            text-decoration: none;
            text-size-adjust: auto;
            
            background-color: rgb(255, 253, 253);
            color: rgb(6, 6, 6);
            margin: 5px auto;
            padding: 1px;
            box-sizing: content-box;
            text-size-adjust: auto;
            
            "
            >
            
            <tr>
              <h2 style="text-align: center;">25 INDEX SIGNAL SET UP BELOW</h2>
          
                <th> LAST-TICK VALUE </th>
                <th> PREVIOUS BAR SIZE </th>
                <th> CURRENT BAR SIZE </th>
                <th> SIGNAL SET-UP  </th>
                <th> ENTRY SET-UP.   </th>
                <th> EXIT-TICK-VALUE </th>
                <th> ENTRY-TICK-VALUE </th>
                <th> ENTRY-STATUS </th>
                <th> TRADE-WON </th>
                <th> TRADE-LOST  </th>
                <th> WIN-RATE % </th>
            </tr>
            <tr style="font-weight: bold; text-size-adjust: auto;">
                <td id="lastick">---</td>
                <td id="prebar">---</td>
                <td id="curbar">---</td>
                <td id="signal">---</td>
                <td id="entry">---</td>
                <td id="exitick">---</td>
                <td id="entrytick">---</td>
                <td id="entrystatus">---</td>
                <td id="tradewonb">---</td>
                <td id="tradelostb">---</td>
                <td id="winratiob">---</td>
            </tr>
            
      
            </table>
            <br><br>
        </div>
        <br>
        
        <div style="text-align: center; width:100%;align-content: center;">
            <a style="width:100%; text-align: center; font-weight: bold; font-size:1.5vw;" href="https://track.deriv.com/_m3ZAAY7V9rNB4VdSfJsOp2Nd7ZgqdRLk/1/">CLICK HERE TO CREATE A DERIV DEMO ACCOUNT</a>
            <br><br>
            <a href="https://track.deriv.com/_m3ZAAY7V9rNB4VdSfJsOp2Nd7ZgqdRLk/1/">
                <img src="https://media.binary.com/uploads/en016-970x90_english.jpeg" style="max-width:100%;height:auto;align-content: center">
            
            </a>
        </div>
        
        <br><br>
        <div>
            <h2 style="text-align: center;">DETAILED INFO - STEP BY STEP ON HOW TMNMEDIA SIGNAL WORKS</h2>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/iJDbc8s4u1A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
        </div>
        <br><br>
      <div>
        <h2 style="text-align: center;">TRADING SAMPLE WITH SIGNAL ALERT</h2>
        <iframe width="560" height="315" src="https://www.youtube.com/embed/eqV87oVbL1Q" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
      <br><br>
      <a href="https://t.me/TMNmediaSignalfree"><img src="https://i0.wp.com/kosherworkingmom.com/wp-content/uploads/2018/05/telegram-icon.png?fit=707%2C217&ssl=1" alt="HTML tutorial" style="width:180px;height:45px; font-weight: bold;"><br>JOIN TMNMEDIA ON TELEGRAM <br></a> 
      <button onclick='https://t.me/TMNmediaSignalfree' > </button>
      
      
      
      <br><br>
      <div style="margin-bottom:0; align-content: center;padding-inline: 10px;">
        TMNmedia Trading Bot 2024..... STATUS <button id= "checkOnline" value="" style="background-color: #888;"></button>
        
    </div><br>
    
    
    <div style="text-align: center; width:100%;align-content: center;">
        <a href="https://track.deriv.com/_m3ZAAY7V9rNB4VdSfJsOp2Nd7ZgqdRLk/1/">
            <img src="https://media.binary.com/uploads/en016-970x90_english.jpeg" style="max-width:100%;height:auto;align-content: center">
        
        </a>
    </div>
    
    
    
    
    <script>
        if (Notification.permission === "granted") {
            //showNotification();
            //alert("Notifications Permitted")
            console.log('Notifications Permitted =')
        } else if (Notification.permission !== "denied") {
            Notification.requestPermission().then(permission =>{
                
                if (permission === "granted") {
                    console.log('Notification =', permission)
                    //showNotification();
                }
                //bussylow-signal.js
            });
        } 

        function deleteItems() {
            sessionStorage.clear();
            console.log('Storage Cleared =>')
        }deleteItems()

        
    setInterval(function(){ 
  
    var ifConnected = window.navigator.onLine;
    
    if (ifConnected) {
        document.getElementById("checkOnline").innerHTML = "Online";
        document.getElementById("checkOnline").style.color = "yellow";
        document.getElementById("checkOnline").style.backgroundColor = "green";
    } else {
        document.getElementById("checkOnline").innerHTML = "Offline";
        document.getElementById("checkOnline").style.color = "Black";
        document.getElementById("checkOnline").style.backgroundColor = "red";

        location.reload()
        setTimeout(() => {
            location.reload()
            return
        }, 300000);
        
    }
    getTMN()
    
  }, 1000);
  const api_url = "http://localhost:3002/data";
  async function getTMN() {
    const response = await fetch(api_url);
    const data = await response.json();
    const { signalbear,entrybear,derivtimer,beartickvalue,entrybearstatus,previousbar,currentbar,entrytickvalue,exitbear,tradewon,tradelost,winrate,noftrades} = data;
    document.getElementById('signal25').innerText = signalbear
    document.getElementById('entry25').innerText = entrybear
    document.getElementById('tick-time').innerText = derivtimer
    document.getElementById('lastick25').innerText = beartickvalue

    document.getElementById('entrystatus25').innerText = entrybearstatus
    document.getElementById('prebar25').innerText = previousbar
    document.getElementById('curbar25').innerText = currentbar
    document.getElementById('entrytick25').innerText = entrytickvalue
    document.getElementById('exitick25').innerText = exitbear
    document.getElementById('tradewon').innerText = tradewon
    document.getElementById('tradelost').innerText = tradelost
    document.getElementById('winratio').innerText = winrate
    document.getElementById('noftrades').innerText = noftrades
    
    if (entrybear === "ENTER") {
        const notificationz = new Notification('Notification From TMN-BEAR=SIGNAL-Bot',{
            body: `${'MASTER-BEAR=SIGNAL =>'}-${'TIME = '}${derivtimer}${'\r\n'}${'LAST-TICK = '}${beartickvalue}${'\r\n'}`
        });
        return
    }
}getTMN()


        function checkserverS() {


            var wsl = new WebSocket('wss://ws.binaryws.com/websockets/v3?app_id=32150'); //1089
            wsl.onopen = function(evt) {
                    try { 
                        wsl.send(JSON.stringify(
                        {time: 1}),           
                        );console.log('WEBSOCKET TIMER SERVER')
            
                        
                    } catch (err) {
                    
                    }
                    
            }
                
            wsl.onmessage = function(msg) {         
                try {
                    var data = JSON.parse(msg.data);
                    var timer = data.time
                
                // document.getElementById("servertimer").innerText = timer;
                    //console.log('server-timer =>',timer,"====================");

                    
                    var devicetime = new Date();
                    var servicetime = new Date(timer * 1000);
                    var serversecs = servicetime.getSeconds();
                    var systemsecs = devicetime.getSeconds();
                    
                    var tradetimer = servicetime.toLocaleTimeString();
                    console.log( 'server-timer =>',serversecs,"====================","\n\r",'Device-timer =>',systemsecs);    
                    //document.getElementById("servertimer").innerText = tradetimer;
                        
                        if (systemsecs > serversecs + 2 || systemsecs < serversecs - 2 ) {
                            document.getElementById("v25").style.display = "none"
                            checkservertimeB()
                            checkservertimeB25()
                        } else {
                            document.getElementById("datupdte2").innerText = "TIME IS CONFIRMED =OK=";
                            document.getElementById("datupdte2").style.color = "blue";
                            // document.getElementById("v25").style.display = "none"
                            // checkservertimeB()
                            // checkservertimeB25()
                        }

                } catch (error) {
                

                } 
            }
        } checkserverS()


        function setalert() {
            var alertprice = document.getElementById("priceAlertbear").value 
            var confirmedlert = document.getElementById("priceAlertbear").innerText * 1
            document.getElementById("priceAlertbear").value = confirmedlert
            
            console.log(confirmedlert,'entered Alert Value= ',document.getElementById("priceAlertbear").value)
        }


    </script>
</body>
</html>